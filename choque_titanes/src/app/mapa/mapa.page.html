<ion-header [translucent]="true">
  <ion-toolbar>
    <ion-title>
      Mapa de jugadores
    </ion-title>
  </ion-toolbar>
</ion-header>

<ion-content [fullscreen]="true" class="ion-padding">

  <!-- Botones de control -->
  <ion-button color="primary" expand="block" (click)="iniciarActualizacionContinua()">
    Reanudar
  </ion-button>

  <ion-button color="danger" expand="block" (click)="detenerActualizacion()">
    Pausa
  </ion-button>

  <!-- Coordenadas -->
  <div *ngIf="latitud !== null && longitud !== null">
    <p>Latitud: {{ latitud }}</p>
    <p>Longitud: {{ longitud }}</p>
  </div>

  <!-- Error -->
  <div *ngIf="(latitud === null || longitud === null) && error">
    <p class="ion-text-danger">{{ error }}</p>
  </div>

  <!-- Mapa -->
  <div *ngIf="googleMapsUrl; else mensajeEsperando">
    <iframe
      [src]="googleMapsUrl | urlSegura"
      class="mapa-iframe"
      width="100%"
      height="400"
      frameborder="0"
      allowfullscreen
    ></iframe>
  </div>

  <ng-template #mensajeEsperando>
    <p class="mensaje-espera">Aún no se ha obtenido la ubicación</p>
  </ng-template>

</ion-content>